{% extends "base.html" %}
{% load thumbnail %}
{% block title %}ایجاد عکس{% endblock %}

{% block content %}
<!--<section class="upload">-->
<!--  <div class="container">-->

<!--   <div class="row">-->
<!--    <div class="col-lg-12">-->

<!--     <div class="box">-->
<!--      <form action="." method="post" enctype="multipart/form-data">-->
<!--       <input name="title" value="{{form.instance.title}}">-->
<!--       <input type="file" onchange="readURL(this);" name="image">-->
<!--        <input name="filter" style="display:none;" id="filter_input" value="{{form.instance.filter}}">-->
<!--      <div class="box-footer clearfix">-->
<!--        {% csrf_token %}-->
<!--       <input type="submit" style="display:none;" class="kafe-btn kafe-btn-mint-small pull-right btn-sm">-->
<!--       <div id="filter_image" style="display:none;">-->
<!--           <figure class="filter-normal filter" data-filter="filter-normal"><img id="filter1" class="img-fluid" src="" alt="Image"></figure>-->
<!--           <figure class="filter-moon filter" data-filter="filter-moon"><img id="filter2" class="img-fluid" src="" alt="Image"></figure>-->
<!--           <figure class="filter-ashby filter" data-filter="filter-ashby"><img id="filter3" class="img-fluid" src="" alt="Image"></figure>-->
<!--           <figure class="filter-brooklyn filter" data-filter="filter-brooklyn"><img id="filter4" class="img-fluid" src="" alt="Image"></figure>-->
<!--           <figure class="filter-clarendon filter" data-filter="filter-clarendon"><img id="filter5" class="img-fluid" src="" alt="Image"></figure>-->
<!--           <figure class="filter-helena filter" data-filter="filter-helena "><img id="filter6" class="img-fluid" src="" alt="Image"></figure>-->
<!--           <figure class="filter-lofi filter" data-filter="filter-lofi"><img id="filter7" class="img-fluid" src="" alt="Image"></figure>-->
<!--           <figure class="filter-reyes filter" data-filter="filter-reyes"><img id="filter8" class="img-fluid" src="" alt="Image"></figure>-->
<!--           <figure class="filter-xpro-ii filter" data-filter="filter-xpro-ii"><img id="filter9" class="img-fluid" src="" alt="Image"></figure>-->
<!--       </div>-->

<!--       <ul class="nav nav-pills nav-sm">-->
<!--        <li class="nav-item"><a class="nav-link" href=""><i class="fa fa-camera text-muted"></i></a></li>-->
<!--        <li class="nav-item"><a class="nav-link" href=""><i class="fa fa-video text-muted"></i></a></li>-->
<!--       </ul>-->
<!--      </div>-->
<!--      </form>-->
<!--     </div>-->

<!--    </div>-->
<!--   </div>-->
<!--  </div>&lt;!&ndash;/ container &ndash;&gt;-->
<!-- </section>-->

<section class="upload">
	  <div class="container">
    <form action="." method="post" enctype="multipart/form-data">
	   <div class="row">
	    <div class="col-lg-12">

	     <div class="box">
        <input required="required" name="title" placeholder="عنوان" class="form-control no-border" value="{{form.instance.title}}">
        <textarea class="form-control no-border" rows="3" oninput="auto_grow(this)" name="description" placeholder="توضیحات........."></textarea>
        <input name="filter" style="display:none;" id="filter_input" value="{{form.instance.filter}}">
        <input type="file" style="display:none;" accept="image/*" id="ImageUpload" onchange="readURL(this);" name="image">
        {% csrf_token %}
        <input type="submit" id="pull-right" style="display:none;" class="kafe-btn kafe-btn-mint-small pull-right btn-sm">
		  <div class="box-footer clearfix">
		   <span id="UploadButton" onchange="readURL(this);" class="kafe-btn kafe-btn-mint-small btn-sm">آپلود</span>
		  </div>
		 </div>

		</div>
	   </div>


     <div id="filter_image" style="display:none;">
     <div class="row one-row">
	    <div class="col-lg-12">
        <span>فیلتر موردنظر خود را انتخاب کنید.</span>
		  </div>
	   </div>
	   <div class="row">
        <div class="col-lg-4 col-md-3 col-sm-6 col-xs-12">
          <div class="card">
            <div class="card-image filter" data-filter="Normal">
              <img src="" id="filter1" class="img-responsive" alt="Image">
            </div>
            <div class="card-header">
              <span>Normal</span>
            </div>
          </div>
        </div>

        <div class="col-lg-4 col-md-3 col-sm-6 col-xs-12">
          <div class="card">
            <div class="card-image filter-1977 filter" data-filter="filter-1977">
              <img src="" id="filter2" class="img-responsive" alt="Image">
            </div>
            <div class="card-header">
              <span class="h6">1977</span>
            </div>
          </div>
        </div>

        <div class="col-lg-4 col-md-3 col-sm-6 col-xs-12">
          <div class="card">
            <div class="card-image filter-willow filter" data-filter="filter-willow ">
              <img src="" id="filter3" class="img-responsive" alt="Image">
            </div>
            <div class="card-header">
              <span class="h6">Willow</span>
            </div>
          </div>
        </div>

       </div><!--/ row-->

	   <div class="row">

        <div class="col-lg-4 col-md-3 col-sm-6 col-xs-12">
          <div class="card">
            <div class="card-image filter-sutro filter" data-filter="filter-sutro">
              <img src="" id="filter4" class="img-responsive" alt="Image">
            </div>
            <div class="card-header">
              <span class="h6">Sutro</span>
            </div>
          </div>
        </div>

        <div class="col-lg-4 col-md-3 col-sm-6 col-xs-12">
          <div class="card">
            <div class="card-image filter-reyes filter" data-filter="filter-reyes">
              <img src="" id="filter5" class="img-responsive" alt="Image">
            </div>
            <div class="card-header">
              <span class="h6">Reyes</span>
            </div>
          </div>
        </div>

        <div class="col-lg-4 col-md-3 col-sm-6 col-xs-12">
          <div class="card">
            <div class="card-image filter-poprocket filter" data-filter="filter-poprocket">
              <img src="" id="filter6" class="img-responsive" alt="Image">
            </div>
            <div class="card-header">
              <span class="h6">Poprocket</span>
            </div>
          </div>
        </div>

       </div><!--/ row-->

	   <div class="row">

        <div class="col-lg-4 col-md-3 col-sm-6 col-xs-12">
          <div class="card">
            <div class="card-image filter-inkwell filter" data-filter="filter-inkwell">
              <img src="" id="filter7" class="img-responsive" alt="Image">
            </div>
            <div class="card-header">
              <span class="h6">Inkwell</span>
            </div>
          </div>
        </div>

        <div class="col-lg-4 col-md-3 col-sm-6 col-xs-12">
          <div class="card">
            <div class="card-image filter-nashville filter" data-filter="filter-nashville">
              <img src="" id="filter8" class="img-responsive" alt="Image">
            </div>
            <div class="card-header">
              <span class="h6">Nashville</span>
            </div>
          </div>
        </div>

        <div class="col-lg-4 col-md-3 col-sm-6 col-xs-12">
          <div class="card">
            <div class="card-image filter-moon filter" data-filter="filter-moon">
              <img src="" id="filter9" class="img-responsive" alt="Image">
            </div>
            <div class="card-header">
              <span class="h6">Moon</span>
            </div>
          </div>
        </div>

       </div><!--/ row-->
     </div>
    </form>
	  </div><!--/ container -->
	 </section>
{% endblock %}
{% block domjs %}
function readURL(input) {
        if (input.files && input.files[0]) {
            var reader = new FileReader();
            reader.onload = function (e) {
                $('#filter1').attr('src', e.target.result);
                $('#filter2').attr('src', e.target.result);
                $('#filter3').attr('src', e.target.result);
                $('#filter4').attr('src', e.target.result);
                $('#filter5').attr('src', e.target.result);
                $('#filter6').attr('src', e.target.result);
                $('#filter7').attr('src', e.target.result);
                $('#filter8').attr('src', e.target.result);
                $('#filter9').attr('src', e.target.result);
            };

            reader.readAsDataURL(input.files[0]);
            document.getElementById("filter_image").removeAttribute("style");
        }
    }

function auto_grow(element) {
  element.style.height = "0px";
  element.style.height = (element.scrollHeight)+"px";
}

{% endblock %}

{% block domready %}
$('.filter').click(function(e){
  $( "#filter_input" ).val($(this).data('filter'));
  $("#pull-right").click();

})

{% endblock %}